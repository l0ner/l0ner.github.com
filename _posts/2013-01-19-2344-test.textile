--- 
layout: post
title: test
---

Test post

h3. Syntax highlight

{% highlight cpp %}
#include <fstream>
#include <iostream>
#include <sstream>
#include <string>
using namespace std;

string mem_string() {
   unsigned int total_mem;
   unsigned int used_mem;
   unsigned int unused_mem;
   size_t line_start_pos;
   size_t line_end_pos;
   istringstream iss;
   ostringstream oss;
   string mem_line;

   ifstream meminfo_file( "/proc/meminfo" );
   getline( meminfo_file, mem_line );
   line_start_pos = mem_line.find_first_of( ':' );
   line_start_pos++;
   line_end_pos = mem_line.find_first_of( 'k' );
   iss.str( mem_line.substr( line_start_pos, line_end_pos - line_start_pos ) );
   iss >> total_mem;

   used_mem = total_mem;

   for( unsigned int i = 0; i < 3; i++ ) {
      getline( meminfo_file, mem_line );
      line_start_pos = mem_line.find_first_of( ':' );
      line_start_pos++;
      line_end_pos = mem_line.find_first_of( 'k' );
      iss.str( mem_line.substr( line_start_pos, line_end_pos - line_start_pos ) );
      iss >> unused_mem;
      used_mem -= unused_mem;
   }
   meminfo_file.close();

   oss << used_mem / 1024 << '/' << total_mem / 1024 << "MB";

   return oss.str();
}


int main() {
   std::cout << mem_string() << endl;
   return 0;
}
{% endhighlight %}

h3. Picasa link replacement

<a href="https://picasaweb.google.com/112332452774282896153/MediaPlayers#5765802505077382050" class="picasaPhoto">A picasa photo</a>

h3. Site components;

* PWI for gallery
* post jQuery truncator from "http://henrik.nyh.se/2008/02/jquery-html-truncate/":http://henrik.nyh.se/2008/02/jquery-html-truncate/

h3. Code and syntax highlighting

I wanted to enable syntax higlighting.

Possibilities:
* Pygments ( linenos don't work though )
* snippet ( jQuery plugin with line numbers )
* beautyOfCode ( jQuery plugin )
* paste code from gist

Be default GitHub pages support syntax highlighting in jekyll through a ruby gem called pygments. And as far as it goes to syntax highlighting it really works. It should support the line numbers too, but I couldn't get it working.
